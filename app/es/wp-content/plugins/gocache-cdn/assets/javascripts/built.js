!function(a){"function"!=typeof window.MONKEY&&a(jQuery||Zepto)}(function(a){!function(a,b){"use strict";function c(){var a,b;return a=function(){var a=new b;return a.initialize.apply(a,arguments),a},b=function(){},b.prototype=a.prototype,a.fn=a.prototype,a.fn.initialize=function(){},a}var d=function(e,f,g,h){var i,j=e.split(/[.:]+/),k=a;h||(k=k.MONKEY=k.MONKEY||{}),"function"!=typeof f&&(g=f,f=null),g=g||c();for(var l=0,m=j.length;l<m;l++)i=l==m-1,k[j[l]]=i?g:k[j[l]]||{},k=k[j[l]];return f&&f.call(k,k,d.utils,b),k};d.Wrapper=function(a,b){return d(a,function(a){return a.fn.initialize=function(c,d){b.apply(a,arguments)},a},null,!0)},a.MONKEY=d}(window,a),function(a){"use strict";MONKEY.Components={},MONKEY.Ajax={}}(window),function(a,b){"use strict";MONKEY.utils={toTitleCase:function(a){return a=a.replace(/(?:^|-)\w/g,function(a){return a.toUpperCase()}),a.replace(/-/g,"")},toCamelCase:function(a){return a=a.replace(/(?:^|-)\w/g,function(a,b){return b?a.toUpperCase():a}),a.replace(/-/g,"")}}}(window,a),function(a){"use strict";function b(a,b){"function"==typeof a&&a.apply(null,b||[])}MONKEY.dispatcher=function(a,c,d){b(a.init,d),b(a[c],d)}}(window),function(a,b){"use strict";var c=MONKEY.Components||{};b.fn.isExist=function(a,b){var c=this.find(a);return c.length&&"function"==typeof b&&b.call(null,c,this),c.length},b.fn.getComponent=function(){return this.data("_component")},MONKEY.factory={create:function(a){a.isExist("[data-component]",this.constructor.bind(this))},constructor:function(a){a.each(this.each.bind(this))},extend:function(a,b){var d,e;if("function"==typeof c[a]){d=c[a].fn;for(e in d)~(b.overrides||[]).indexOf(e)||(b.fn[e]=d[e])}},each:function(a,d){var e=b(d),f=e.data("extend"),g=MONKEY.utils.toTitleCase(e.data("component")),h=null;"function"==typeof c[g]&&(f&&this.extend(MONKEY.utils.toTitleCase(f),c[g]),h=c[g].call(null,e),e.data("_component",h))}}}(window,a),MONKEY.Wrapper("MONKEY.ComponentWrapper",function(a,b){"use strict";MONKEY(["Components",a].join("."),function(a,c,d){a.fn.initialize=function(a){this.$el=a,this.elements={},this.on=null,this.fire=null,this.loadDefaultMethods(),this.init()},a.fn.loadDefaultMethods=function(){this.setAttrs(),this.setElements(),this.emitter()},a.fn.setElements=function(){this.$el.find("[data-element]").each(this._assignEachElements.bind(this))},a.fn._assignEachElements=function(a,b){var c=d(b),e=c.data("element");this._insertElement(c,e)},a.fn._insertElement=function(a,b){return b=c.toCamelCase(b),a.attr("data-eobj",!0),this.elements[b]?void(this.elements[b]=this.elements[b].add(a)):void(this.elements[b]=a)},a.fn.reloadElements=function(){this.$el.find("[data-element]:not([data-eobj])").each(this._assignEachElements.bind(this))},a.fn.getElement=function(a){var b=this.$el.find('[data-element="'+a+'"]');return!!b.length&&(this._insertElement(b,a),b)},a.fn.setAttrs=function(){var a=this.$el.data();for(var b in a)this[b]=a[b]},a.fn.emitter=function(){this.on=d.proxy(this.$el,"on"),this.fire=d.proxy(this.$el,"trigger")},a.fn.addEvent=function(a,b){var e=c.toCamelCase(["_on",a,b].join("-"));this.on(a,'[data-action="'+b+'"]',(this[e]||d.noop).bind(this))},a.fn.init=function(){},b(a,c,d)})})}),function(a,b){function c(a,b){return d.replace(/\[type\]/,a).replace(/\[message\]/,b)}var d='<div class="[type] render-message"><p><strong>[message]</strong></p></div>';a.fn.messageShowAfter=function(a,b,d){d&&this.messageHideAfter(),this.after(c(a,b))},a.fn.messageShowBefore=function(a,b,d){d&&this.messageHideBefore(),this.before(c(a,b))},a.fn.messageHideBefore=function(){this.prev(".render-message").remove()},a.fn.messageHideAfter=function(){this.next(".render-message").remove()}}(jQuery,window),function(a,b){var c='<span class="spinner is-active" style="display: block;"></span>';a.fn.spinnerShow=function(a){this[a].call(this,c)},a.fn.spinnerHide=function(){this.siblings(".spinner").remove().end().find(".spinner").remove()}}(jQuery,window),function(a){a.fn.byElement=function(a){return this.find('[data-element="'+a+'"]')},a.fn.compileHandlebars=function(){return Handlebars.compile(this.html())},a.fn.fadeOutRemove=function(a){var b=this;b.fadeOut(a,function(){b.remove()})},a.fn.isEmptyValue=function(){return!a.trim(this.val())},a.fn.valInt=function(){return parseInt(this.val(),10)},a.fn.addClassReFlow=function(a){this.css("display","block"),this[0].offsetWidth,this.addClass(a)}}(jQuery),MONKEY.Wrapper("MONKEY.AjaxWrapper",function(a,b){MONKEY("Ajax."+a,function(a){a.fn.initialize=function(){this.emitter()},a.fn.emitter=function(){var a=jQuery({});this.on=jQuery.proxy(a,"on"),this.fire=jQuery.proxy(a,"trigger")},a.fn._done=function(a,b){this.fire("ajax.done"+a,[b])},a.fn._fail=function(a,b,c){this.fire("ajax.fail"+a,[b.responseJSON,c])},a.fn._request=function(a,b,c){var d={type:"GET",dataType:"json",data:b||{}},e=jQuery.ajax(jQuery.extend(d,c));e.done(jQuery.proxy(this,"_done",a)),e.fail(jQuery.proxy(this,"_fail",a))},b(a)})}),MONKEY("GoCache",function(a){a.init=function(a){MONKEY.factory.create(a)}},{}),MONKEY.ComponentWrapper("Clear",function(a){a.fn.init=function(){this.addEventListener()},a.fn.addEventListener=function(){this.addEvent("click","all"),this.addEvent("click","by-url")},a.fn._onClickAll=function(a){this.send("mbuceP3nRNUqXzR5")},a.fn._onClickByUrl=function(a){this.send("VwtDUTW92c2B8Yjf")},a.fn.beforeSend=function(){},a.fn.send=function(a){var b={action:a};"VwtDUTW92c2B8Yjf"==a&&(b.urls=this.elements.textarea.val());var c=jQuery.ajax({url:MONKEY.Utils.getUrlAjax(),data:b,dataType:"json",type:"POST"});this.beforeSend(),c.done(this._done.bind(this)),c.fail(this._fail.bind(this))},a.fn._done=function(a){this.$el.messageShowBefore("updated",a.message,!0)},a.fn._fail=function(a,b){var c=a.responseJSON||{};this.$el.messageShowBefore("error",c.message,!0)}}),MONKEY.ComponentWrapper("GocacheAjax",function(a){a.fn.init=function(){this.addEventListener()},a.fn.addEventListener=function(){this.$el.on("submit",this._onSubmit.bind(this))},a.fn._onSubmit=function(a){a.preventDefault(),this.fire("before-submit"),this.send()},a.fn.beforeSend=function(){this.elements.submit.attr("disabled","disabled"),this.elements.submit.spinnerShow("after")},a.fn.send=function(){var a=this.$el.attr("action"),b=this.$el.serialize(),c=jQuery.ajax({url:a,data:b,dataType:"json",type:"POST"});this.beforeSend(),c.done(this._done.bind(this)),c.fail(this._fail.bind(this))},a.fn._done=function(a){this.elements.submit.removeAttr("disabled"),this.elements.submit.spinnerHide(),this.$el.messageShowBefore("updated",a.message,!0),setTimeout(function(){location.href=location.href+"&v="+Date.now()},1e3)},a.fn._fail=function(a,b){var c=a.responseJSON||{};this.elements.submit.removeAttr("disabled"),this.elements.submit.spinnerHide(),this.$el.messageShowBefore("error",c.message,!0)}}),MONKEY.ComponentWrapper("GocacheUpdate",function(a,b,c){a.overrides=["_done"],a.fn._done=function(a){this.elements.submit.removeAttr("disabled"),this.elements.submit.spinnerHide(),this.$el.messageShowBefore("updated",a.message,!0)}}),MONKEY("Utils",function(a){a.addQueryVars=function(a,b){var c=[];for(var d in a)c.push(d+"="+a[d]);return b+(b.match(/\/\?/)?"&":"?")+c.join("&")},a.getUrlAjax=function(){return(window.AdminGlobalVars||{}).urlAjax}},MONKEY.utils),jQuery(function(){var a=jQuery("body");MONKEY.vars={body:a},MONKEY.dispatcher(MONKEY.GoCache,window.pagenow,[a])});